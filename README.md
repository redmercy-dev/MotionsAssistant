README: Legal Motion Assistant
 Application
 1. Overview
 Welcome to the Legal Motion Assistant! This application is designed to streamline the
 process of drafting specific bankruptcy motions by leveraging advanced Artificial Intelligence
 technologies. It combines a knowledge base of legal documents with intelligent analysis of
 case-specific information provided by the user.
 The primary goal is to assist legal professionals by generating initial drafts for two common
 motion types:
 Motion to Value Secured Claim
 Motion to Avoid Judicial Lien
 The application features an administrative backend for setup and knowledge management,
 and an interactive chat interface for drafting.
 2. Key Features
 Dual AI Integration: Utilizes both Google Gemini (for advanced document
 analysis) and OpenAI Assistants API (for sophisticated drafting and knowledge
 retrieval).
 Motion-Specific Workflows: Tailored logic and knowledge retrieval based on the
 selected motion type.
 Persistent Knowledge Base: Administrators can upload relevant legal documents
 (PDFs) which are indexed into motion-specific Vector Stores for the AI assistant to
 reference.
On-the-Fly Document Analysis: Users can upload case-specific documents (PDF,
 DOCX, TXT) directly within the chat. Google Gemini analyzes these instantly to
 extract key facts needed for the motion.
 Structured Drafting Process: The AI Assistant is instructed to gather all necessary
 information (including common details, motion-specific variables, and attorney
 selection) before generating a draft.
 Interactive Chat Interface: A user-friendly chat environment for interacting with
 the AI assistant.
 Streaming Responses: AI responses are displayed in real-time for a smoother
 user experience.
 File Downloads: Allows downloading of documents cited or generated by the AI
 assistant (e.g., draft motions, proposed orders).
 Admin Panel: Dedicated interface for setting up the system (creating vector
 stores, assistant) and managing the knowledge base.
 Workspace Management: Features to Reset the entire configuration or Clear the
 current chat history.
 Customizable Prompts: The core instructions given to the AI models (both
 Gemini and OpenAI) are within the application code (
 legal_assistant_app.py )
 and can be adjusted after testing to refine the output or behavior based on your
 feedback.
 3. Technology Stack
 Frontend: Streamlit (for the web application interface)
 AI - Document Analysis: Google Gemini API (specifically 
as per current code)
 gemini-2.5-pro-exp-03-25
 AI - Drafting & Knowledge: OpenAI Assistants API (using 
gpt-4.1 model via
 Assistants API V2 as per current code)
 Vector Store: OpenAI Vector Stores (for indexing and searching uploaded knowledge
 documents)
 Backend: Python
4. Workflow Explanation
 The application operates in two main modes: Admin (for setup) and Chat (for usage).
 4.1 Admin Setup (Initial Configuration)
 This section is typically used once or infrequently to prepare the system.
 1. Create Vector Stores: The application requires two separate Vector Stores, one for each
 motion type ("Motion to Value Secured Claim" and "Motion to Avoid Judicial Lien").
 These act as specialized databases to hold knowledge relevant to each motion. You
 initiate this via the "Create 2 vector stores" button in the Admin panel. Their IDs are
 stored in the config2.json file.
 2. Create Assistant: A single OpenAI Assistant is created. This AI agent is given detailed
 instructions (visible in the legal_assistant_app.py code within the
 oa_client.beta.assistants.create call) on how to behave, what information to ask
 for, how to structure the motions, how to use the knowledge from the vector stores
 (file_search tool), and how to incorporate information extracted by Gemini. The
 Assistant's ID is also saved in config2.json .
 3. Upload Knowledge Files (PDFs): Using the "Upload PDF knowledge" form, you can
 upload relevant legal documents (statutes, case law examples, procedural guides,
 templates etc.) as PDFs. You must select the corresponding "Destination motion type"
 and optionally specify a "Jurisdiction". These PDFs are then processed and added to the
 appropriate Vector Store created in Step 1. The AI Assistant will later use its
 file_search tool to query these documents when drafting. You can view the list of
 indexed files in the Admin panel.
 4.2 Chat Usage (Drafting Motions)
 This is the primary interface for generating motion drafts.
 1. Select Motion Type: The user must select the type of motion they intend to draft from
 the sidebar dropdown. This is crucial because it tells the system which Vector Store
 (knowledge base) to connect to the AI Assistant for this specific chat session.
 2. Optional Inputs: The user can provide the Jurisdiction and Bankruptcy Chapter in the
 sidebar for additional context.
3. Start Conversation: The user types their request or initial information into the chat
 input box at the bottom.
 4. Optional File Upload (ðŸ’Ž
 Icon): Crucially, the user can upload relevant case documents
 (like petitions, schedules, appraisals, judgments) directly in the chat using the file
 uploader next to the chat input.
 Gemini Analysis: When files are uploaded here, they are not added to the
 permanent Vector Store knowledge base. Instead, they are sent to Google
 Gemini. Gemini reads these files on-the-fly and, following specific instructions
 (defined in the gem_extract function in the code), extracts key factual data
 points (debtor names, creditor details, property values, dates, etc.) relevant to the
 selected motion type.
 Information Forwarding: The extracted information from Gemini is then invisibly
 passed to the OpenAI Assistant as part of the context for the user's request. The
 Assistant is instructed to treat this extracted data as authoritative evidence from
 the uploaded files.
 5. AI Interaction: The OpenAI Assistant takes over. Based on its instructions, it will:
 Acknowledge the user's request and the information provided (including any facts
 extracted by Gemini from uploaded files).
 Consult the relevant Vector Store (using file_search) for background
 knowledge, legal standards, and formatting instructions related to the selected
 motion type and jurisdiction (if provided).
 Systematically ask the user for any missing information required to draft the
 motion (as detailed in its instructions).
 Once all required information is gathered (including attorney selection), it will
 draft the Motion and the corresponding Proposed Order.
 Present the draft(s) to the user, often including a disclaimer that it's AI-generated
 and needs attorney review.
 6. Review and Download: The user reviews the draft. The assistant may ask if
 modifications are needed. If approved, it can provide download links for the generated
 documents (typically as .docx files). Download buttons also appear for any files the
 assistant references from its knowledge base.
 7. Chat Management: The user can use the "Clear chat" button in the sidebar to start a
 fresh conversation (this creates a new interaction thread) or "Reset workspace" to clear
 all configuration and start from scratch (requires re-running the Admin setup).
5. How the AI Models Collaborate
 OpenAI Assistant (
 gpt-4.1 via API): Acts as the primary drafter and
 conversationalist. It manages the chat flow, asks clarifying questions, follows
 complex instructions, retrieves information from the Vector Store (
 file_search ),
 and generates the final legal documents. It understands the structure and
 requirements for each motion type based on its initial instructions and the
 knowledge files uploaded in Admin.
 Google Gemini (
 Gemini 2.5 Pro Experimental ): Serves as a specialized, on
demand document reader for files uploaded during the chat. Its sole purpose in
 this workflow is to quickly scan user-provided case documents and extract
 predefined factual variables. It does not draft the motion itself but provides the
 necessary inputs for the OpenAI Assistant when case-specific files are uploaded
 by the user. This avoids adding temporary case files to the permanent knowledge
 base while still allowing the AI to use their contents.
 6. Setup Instructions for Client
 To get the application running and configured, please follow these steps:
 1. Prerequisites:
 Ensure you have Python installed.
 Install required Python packages (usually listed in a 
provided, we will supply this).
 requirements.txt file - if not
 Obtain API keys from OpenAI and Google AI (Gemini). Important: The current
 code has keys hardcoded for development. For production/client use, these must
 be replaced with secure methods like environment variables or a secrets
 management system. We will guide you on this.
 2. 2 Run the Application: Execute the Streamlit command in your terminal from the
 application's directory:
 streamlit run legal_assistant_app.py
3. 3 Access the Admin Panel: Open the web browser address provided by Streamlit
 (usually http://localhost:8501) and select "Admin" from the sidebar radio button.
 4. 4 Step 1: Create Vector Stores: Click the "Create 2 vector stores" button. This will
 create the necessary stores in your OpenAI account and save their IDs locally in
 config2.json . You should see a success message and the store IDs listed.
 5. 5 Step 2: Create Assistant: Once vector stores exist, click the "Create assistant"
 button. This creates the core AI agent in your OpenAI account, configured with the
 specific instructions from the code, and links the necessary tools ( file_search ,
 code_interpreter). The Assistant ID is saved in config2.json .
 6. 6 Step 3: Upload Knowledge Base PDFs:
 Use the "Upload PDF knowledge" form.
 Select the "Destination motion type" that the PDF content pertains to (this
 determines which Vector Store it goes into).
 Enter the relevant "Jurisdiction" (this helps the Assistant filter information later,
 though filtering logic might need refinement).
 Click "Browse files" to select one or more relevant PDF documents.
 Click "Upload". The files will be uploaded to OpenAI and indexed into the selected
 Vector Store.
 Repeat this process for all your knowledge base documents, associating them
 with the correct motion type. You can see a table of uploaded files at the bottom
 of the Admin page.
 Once these steps are complete, the application is ready for use via the "Chat" page.
 7. Customization and Testing
 Prompt Engineering: The effectiveness of the assistant heavily relies on the instructions
 provided to both the OpenAI Assistant (in the instructions variable within the
 oa_client.beta.assistants.create call) and the Google Gemini model (in the
 prompt variable within the gem_extract function). After testing the application, you
 may find areas where the AI's responses or generated drafts need adjustment. We can
 work together to refine these prompts based on your specific requirements and
 feedback to improve accuracy, tone, and adherence to specific legal formats or local
 rules.
Testing: Please test the application thoroughly with various scenarios, including:
 Starting chats for both motion types.
 Providing information incrementally.
 Uploading different types of case documents in the chat.
 Testing with and without specifying Jurisdiction/Chapter.
 Checking the quality and completeness of the generated drafts.
 8. Important Notes
 API Keys: Please ensure API keys are handled securely and are not exposed in the
 code repository or client-side code in a production environment.
 AI Disclaimer: Remember that the generated drafts are AI-produced and require
 thorough review and modification by a licensed attorney before use. The
 application automatically includes a disclaimer to this effect.
 Costs: Usage of OpenAI and Google Gemini APIs incurs costs based on the
 amount of data processed (tokens) and the models used. Be mindful of usage,
 especially during extensive testing.
 Dependencies: Ensure all necessary Python libraries are installed (check for a
 requirements.txt file).
 We are confident this tool will be a valuable asset to your workflow. Please don't hesitate to reach out
 with any questions or feedback during the testing phase.
